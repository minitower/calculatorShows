<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Full forecast results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='full_result.css') }}">
</head>
<body>
    <div class="sidenav">
        <a href={{ tableName }}>Table with predict</a>
        <a href={{ plotNameShows }}>Plot (shows)</a>
        <a href={{ plotNameClicks }}>Plot (clicks)</a>
        <a href={{ plotNamePostbacks }}>Plot (postbacks)</a>
        <a href={{ backlink }}>Back to main screen</a>
    </div>
    <div class="main">
        <div class="grid-container">
            <div class="stat">
                <h2 id="statHead">Output data</h2>
                <div id="inputData">

                    <p id="bid">
                        <b class="bold">
                            Bid:
                        </b> {{ bid }}
                        <div class="addictionInfo">
                            <b class="bold">
                                user bid:
                            </b> 
                            {{ userBid }}
                        </div>
                    </p>

                    <p id="approve">
                        <b class="bold">
                            Approve:
                        </b> {{ approve }} 
                        <div class="addictionInfo">
                        <b class="bold">
                            user approve:
                        </b>
                        {{ userApprove }}
                        </div>
                    </p>
                    <p id="cr"><b class="bold">CR:</b> {{ cr }}</p>
                    <p id="ctr"><b class="bold">CTR:</b> {{ ctr }}</p>
                    <p id="epc"><b class="bold">EPC:</b> {{ epc }}</p>
                    <p id="ecpm"><b class="bold">eCPM:</b> {{ ecpm }}</p>
                </div>
            </div>
            <div class="modelStat">
                <h2 id="modelStatHead">Models result</h2>
                <p id="accurancy"><b class="bold">Accurancy:</b> {{ accurancy }}</p>
                <p id="length"><b class="bold">Predict length:</b> {{ predictLength }} days</p>
                <p id="modelName"><b class="bold">Model name:</b> Holt-Winters model</p>
                <div id="paramContainer">
                    <p id="param"><b class="bold">Parameters:</b></p>
                    <li><b class="param">alpha:</b> {{alpha}}</li>
                    <li><b class="param">beta:</b> {{beta}}</li>
                    <li><b class="param">gamma:</b> {{gamma}}</li>
                </div>
                <p id="cvScore"><b class="bold">Parameters accurancy function:</b> CV score</p>
            </div>
            <div class="dataStat">
                <h2 id="dataStatHead">Data statistic</h2>
                <table id="dataTable">
                    <th class="headerTable">Parameter name</th>
                    <th class="headerTable">Mean</th>
                    <th class="headerTable">Standart deviation</th>
                    <th class="headerTable">Current</th>
                    <th class="headerTable">Foreast</th>
                    <th class="headerTable">Difference</th>
                    <tr class="rowTable">
                        <td class="paramName">Shows</td>
                        <td class="valueTable">{{ mean }}</td>
                        <td class="valueTable">{{ std }}</td>
                        <td class="valueTable">{{ median }}</td>
                        <td class="valueTable">{{ dailySumShows }}</td>
                        <td style="background-color: {{ diffShowsCell }}" 
                                class="valueTable">
                            <div class="diffValue">                      
                                <img class="arrow" src="{{ arrPathShows }}">{{ diffShowsForecast }}
                            </div> 
                        </td>
                    </tr>
                    <tr class="rowTable">
                        <td class="paramName">Clicks</td>
                        <td class="valueTable">{{ meanClicks }}</td>
                        <td class="valueTable">{{ stdClicks }}</td>
                        <td class="valueTable">{{ medianClicks }}</td>
                        <td class="valueTable">{{ dailySumClicks }}</td>
                        <td style="background-color: {{ diffClicksCell }}" 
                                class="valueTable">
                            <div class="diffValue">
                                <img src="{{ arrPathClicks }}"class="arrow"> {{ diffClicksForecast }}
                            </div>
                        </td>
                    </tr>
                    <tr class="rowTable">
                        <td class="paramName">Postbacks (total)</td>
                        <td class="valueTable">{{ meanPost }}</td>
                        <td class="valueTable">{{ stdPost }}</td>
                        <td class="valueTable">{{ medianPost }}</td>
                        <td class="valueTable">{{ dailySumPost }}</td>
                        <td style="background-color: {{ diffPostCell }}" 
                                class="valueTable">
                            <div class="diffValue">
                                <img src="{{ arrPathPost }}" class="arrow"> {{ diffPostForecast }}
                            </div>
                        </td>
                    </tr>
                    <tr class="rowTable">
                        <td class="paramName">Postbacks (confirmed)</td>
                        <td class="valueTable">{{ meanConfirmPostbacks }}</td>
                        <td class="valueTable">{{ stdConfirmPostbacks }}</td>
                        <td class="valueTable">{{ medianConfirmPostbacks}}</td>
                        <td class="valueTable">{{ dailySumConfPost }}</td>
                        <td style="background-color: {{ diffConfPostCell }}" 
                                class="valueTable">
                            <div class="diffValue">
                                <img src="{{ arrPathConfPost }}" class="arrow"> {{ diffConfPostForecast }}
                                </span>
                            </div>    
                        </td>
                    </tr>

                </table>
            </div>
            <div class="result">
                <h2 id="resultHead">Results</h2>
                <p id="sum">For {{ predictLength }} days predict sum of shows is <b class="result">{{ sumShows }} shows</b></p>
                <p id="clicks">With this information sum of clicks by interval of 
                                    {{ predictLength }} day if <b class="result">{{ sumClicks }} clicks</b></p>
                <p id="postbacks">
                    So, with CR and approve we have <b class="result">{{ sumPostbacksUnconf }} unconfirmed postbacks</b>  and 
                    <b class="result">{{sumPostbacksConf}} confirmed postbacks</b>
                </p>
            </div>
        </div>
    </div> 
</body>
</html>